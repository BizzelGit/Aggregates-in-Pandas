import codecademylib3
import numpy as np
import pandas as pd

orders = pd.read_csv('orders.csv')

cheap_shoes = orders.groupby('shoe_color').price.apply(lambda x: np.percentile(x, 25)).reset_index()

print(cheap_shoes)

_____


Genau! ğŸ˜Š

Lass mich das nochmal genauer erklÃ¤ren:

Was macht np.percentile(x, 25) wirklich?
np.percentile(x, 25) gibt nur einen einzelnen Wert zurÃ¼ck â€“ den sogenannten 25. Perzentil-Wert.
Dieser Wert ist die Grenze, unter der 25% der Werte in der jeweiligen Gruppe liegen.
Es gibt nicht alle Preise in den unteren 25% zurÃ¼ck, sondern nur den Schwellenwert, der diese Gruppe begrenzt.
Ein Beispiel zur Veranschaulichung
Angenommen, wir haben folgende Preise fÃ¼r die Schuhfarbe "rot":

python
Kopieren
Bearbeiten
[30, 40, 50, 60, 70, 80, 90, 100]
Jetzt berechnen wir das 25. Perzentil mit np.percentile(x, 25):

python
Kopieren
Bearbeiten
np.percentile([30, 40, 50, 60, 70, 80, 90, 100], 25)
Das ergibt:

python
Kopieren
Bearbeiten
47.5
Was bedeutet das?

25% der Preise (also die gÃ¼nstigsten 25%) liegen unter 47.5.
Der Wert 47.5 ist der Schwellenwert â€“ er markiert, wo die untersten 25% enden.
Warum gibt der Code nur einen Wert zurÃ¼ck?
Weil np.percentile(x, 25) eine einzige Zahl berechnet â€“ den Grenzwert fÃ¼r das untere Viertel.
Es werden nicht alle Werte unterhalb dieses Grenzwerts zurÃ¼ckgegeben, sondern nur der Schwellenwert.
Wenn du stattdessen ALLE Werte unterhalb des 25. Perzentils haben mÃ¶chtest, kannst du das so machen:

python
Kopieren
Bearbeiten
orders.groupby('shoe_color').price.apply(lambda x: x[x <= np.percentile(x, 25)])
Das filtert alle Preise, die unter oder gleich dem 25. Perzentil sind.

Hoffe, das macht es klarer! ğŸ˜Š
